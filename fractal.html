<!DOCTYPE html>
<html>

<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HYJKXE6N1L"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HYJKXE6N1L');
</script>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>


    <script type="text/javascript" src="javascripts/jquery-3.1.0.min.js"></script>
    <link rel="stylesheet" type="text/css" href="stylesheets/bootstrap.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <link rel="stylesheet" type="text/css" href="stylesheets/custom.css" media="screen">

    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3.css">
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" src="javascripts/jquery-3.1.0.min.js"></script>

    <script type="text/javascript" src="javascripts/bootstrap.js"></script>
    <script src="fractal.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">


    <!-- Core CSS file -->
    <link rel="stylesheet" href="stylesheets/photoswipe.css">

    <!-- Skin CSS file (styling of UI - buttons, caption, etc.)
In the folder of skin CSS file there are also:
- .png and .svg icons sprite, 
- preloader.gif (for browsers that do not support CSS animations) -->
    <link rel="stylesheet" href="stylesheets/default-skin/default-skin.css">

    <!-- Core JS file -->
    <script src="javascripts/photoswipe.js"></script>

    <!-- UI JS file -->
    <script src="javascripts/photoswipe-ui-default.min.js"></script>

    <link rel="stylesheet" href="stylesheets/fractal.css">









    <!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

    <title>Matthew Voss</title>
</head>

<body>
    <header>
        <div class="inner">

        </div>


        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    <a class="navbar-brand" href="index.html">Matthew Voss</a>
                </div>

                <div class="collapse navbar-collapse navbar-right" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li><a href="about.html">About</a></li>
                        <li><a href="books.html">Books</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Projects <span class="caret"></span></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="chess.html">Chess AI</a></li>
                                <li><a href="stocks.html">Stock Market AI</a></li>
                                <li><a href="fractal.html">Fractal Motion</a></li>
                                <li><a href="pension.html">Dynamic Programming Pension</a></li>
<li><a href="mirror.html">Magic Mirror</a></li>
                            </ul>
                        </li>
                    </ul>

                </div>
            </div>
        </nav>

    </header>

    <div id="content-wrapper">
        <div class="inner clearfix">
            <div class="main-content">


                <center>
                    <h2>Fractal programming</h2>
                </center>

                I’m a sucker for art with high self similarity and detail/texture. Fractal art has these things in abundance, so it wasn’t long after I started coding that I made a simple fractal explorer. It let you zoom into interesting areas, save screenshots, adjust the color rendering etc. Here are some examples of fractals I generated:
                <br><br>

                <!-- Root element of PhotoSwipe. Must have class pswp. -->
                <div class="container" style="magin: 0px auto; padding-left: 0px; padding-right: 0px;">

                    <div class="picture my-gallery" itemscope itemtype="http://schema.org/ImageGallery" style="width: 100%;">


                        <figure itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
                            <a href="images/FractalImage_9.png" itemprop="contentUrl" data-size="1000x750" data-index="0">
                                <img src="images/FractalImage_9.png" height="450" width="600" itemprop="thumbnail" alt="Beach">
                            </a>
                        </figure>


                        <figure itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
                            <a href="images/FractalImage_5.png" itemprop="contentUrl" data-size="1000x750" data-index="0">
                                <img src="images/FractalImage_5.png" height="450" width="600" itemprop="thumbnail" alt="Beach">
                            </a>
                        </figure>


                        <figure itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
                            <a href="images/FractalImage_6.png" itemprop="contentUrl" data-size="1000x750" data-index="0">
                                <img src="images/FractalImage_6.png" height="450" width="600" itemprop="thumbnail" alt="Beach">
                            </a>
                        </figure>


                        <figure itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
                            <a href="images/FractalImage_11.png" itemprop="contentUrl" data-size="1000x750" data-index="0">
                                <img src="images/FractalImage_11.png" height="450" width="600" itemprop="thumbnail" alt="Beach">
                            </a>
                        </figure>








                    </div>
                </div>



                <br><br> Below is a similar project I coded up in JavaScript in college so I could put it on webpages. Go ahead and click around, see if you can find some cool patterns! (Hint, the program slows down if you have lots of the big black areas in the frame. Because of the escape-time algorithm I’m using, you have to loop up to 1,000 for every pixel in the dark areas and clearly that can take a while)

                <br><br>

                <center>


                    <div class="loader" id="loader"></div>
                    <div id="fractal" style="visibility: hidden">
                        <canvas id="canvas" height="450" width="750" style="display: none"></canvas>
                        <center>

                            <button onclick="initializeFractal()">Reset Fractal</button>
                            <button onclick="showControls()">Show Controls</button>
                            <button onclick="shiftColorScale(-7)">Shift coloring down</button>
                            <button onclick="shiftColorScale(7)">Shift coloring up</button>
                        </center>

                    </div>





                </center>
                <br> I really liked videos like <a href="https://youtu.be/0jGaio87u3A?t=15s">this</a> on Youtube where it would render a video of exploring cool parts of fractals. After graduating college I redid the project in python with this feature so I could make similar videos.

                <br><br> Enter scalability challenges. Instead of rendering one image at a time I now needed 60 images per second of video for a 60 FPS video. And I wanted more than a few seconds of footage! Now that I would be rendering thousands of frames of fractals, however, I opted to learn some CUDA and offload the heavy lifting to my GPU. This has massive performance gains, since GPU's are designed for crunching floating point calculations quickly.
                <br><br> The next challenge of course was turning all of those image frames into a video. Usually I like to keep my projects platform independent, so when my research pointed to the linux utility ffmpeg I got a little shy. I chose instead to play with OpenCV, which was frankly massive overkill for what I needed. While it is a very powerful and impressive tool, and also took a fair amount of work and configuration to download and compile properly.
                <br><br> I did get it working, though, and produced some nice videos like this:
                <br><br>

                <center><img class="img-rounded gif" src="images/output_bak.gif" class="img-responsive" width="50%" height="50%" alt="fractal"></center><br>

                <br><br> They’re still a little choppy, though. Not to mention the coloring is very basic escape-time stuff. This leads to very discrete bands in the color instead of the nice color gradients. You can see the contrast in these example pictures from the <a href="https://en.wikipedia.org/wiki/Mandelbrot_set">Wikipedia Mandelbrot article</a> below.
                <br><br>
                <center>




                    <figure style="margin: 10px">

                        <img class="img-rounded" src="images/bandFractal.png" class="img-responsive" width="50%" height="50%" alt="fractal">
                        <figcaption style="text-align: center; margin-top: 10px;"><i>Fractal colored with escape time algorithm, which produces bands of colors.</i></figcaption>
                    </figure>


                    <figure style="margin: 10px">

                        <img class="img-rounded" src="images/smoothFractal.png" class="img-responsive" width="50%" height="50%" alt="fractal">
                        <figcaption style="text-align: center; margin-top: 10px;"><i>Fractal colored with a continuous smoothing pattern.</i></figcaption>
                    </figure>




                    <br><br>
                </center><br> Future improvements on this project could include

                <ul>
                    <li>Introducing concurrency for faster fractal rendering (every frame of the video can be processed independently. Every pixel of every frame can also be rendered separately, for that matter!)</li>
                    <li>More sophisticated color mapping. My knowledge of coloring and what looks good is novice at best. I'm also red-green color blind, so that doesn't help. Doing a little research and using defaults/translations that more color-savvy people have found would make for much nicer images.</li>

                </ul>






                <br><br>
            </div>
        </div>
    </div>








    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="pswp__bg"></div>
        <div class="pswp__scroll-wrap">

            <div class="pswp__container">
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
            </div>

            <div class="pswp__ui pswp__ui--hidden">
                <div class="pswp__top-bar">
                    <div class="pswp__counter"></div>
                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                    <button class="pswp__button pswp__button--share" title="Share"></button>
                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                    <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                    <div class="pswp__preloader">
                        <div class="pswp__preloader__icn">
                            <div class="pswp__preloader__cut">
                                <div class="pswp__preloader__donut"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                    <div class="pswp__share-tooltip"></div>
                </div>
                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
                                </button>
                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
                                </button>
                <div class="pswp__caption">
                    <div class="pswp__caption__center"></div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    (function($) {
        var $pswp = $('.pswp')[0];
        var image = [];

        $('.picture').each(function() {
            var $pic = $(this),
                getItems = function() {
                    var items = [];
                    $pic.find('a').each(function() {
                        var $href = $(this).attr('href'),
                            $size = $(this).data('size').split('x'),
                            $width = $size[0],
                            $height = $size[1];

                        var item = {
                            src: $href,
                            w: $width,
                            h: $height
                        }

                        items.push(item);
                    });
                    return items;
                }

            var items = getItems();

            $.each(items, function(index, value) {
                image[index] = new Image();
                image[index].src = value['src'];
            });

            $pic.on('click', 'figure', function(event) {
                event.preventDefault();

                var $index = $(this).index();
                var options = {
                    index: $index,
                    bgOpacity: 0.7,
                    showHideOpacity: true
                }

                var lightBox = new PhotoSwipe($pswp, PhotoSwipeUI_Default, items, options);
                lightBox.init();
            });
        });
    })(jQuery);




    // Load fractal     

    $(document).ready(function() {


        initializeFractal();
        $('#loader').css('display', 'none');
        $('#fractal').css('visibility', 'visible');
        $('#canvas').css('display', 'initial');





    });

</script>

</html>
